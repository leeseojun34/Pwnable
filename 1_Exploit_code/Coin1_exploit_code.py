from pwn import *
r = remote('127.0.0.1', 9007)
#r = remote('pwnable.kr', 9007)
r.recvuntil('- Ready? starting in 3 sec...')
for j in range(100):
    r.recvuntil('N=')
    N = int(r.recvuntil(" "))
    r.recvuntil('C=')
    C = int(r.recvuntil("\n"))
    print("N : " + str(N), "C : " + str(C))
    start = 0
    finish = N
    middle = (start + finish)/2

    while C>=0:

        print("start : "+ str(start), "middle : "+ str(middle), "finish : " +str(finish))

        payload =""

        for i in range(start, middle+1):
            payload += str(i) + " "
        r.sendline(payload)
        res = r.recv()
        if "Correct!" in res:
            break
        weight = int(res)
        print("weight:  " + str(weight))

        if weight % 10 == 9:
            finish = middle
        else:
            start = middle + 1

        middle = (start+finish)/2
        C-=1

r.interactive()